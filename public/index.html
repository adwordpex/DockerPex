<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lead Scraper - Smart Lead Generation</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>
    <style>
        * {
            font-family: 'Inter', sans-serif;
        }

        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            position: relative;
            overflow: hidden;
        }

        .gradient-bg::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: pulse 15s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: translate(0, 0) scale(1); }
            50% { transform: translate(-10%, -10%) scale(1.1); }
        }

        .glass-effect {
            background: rgba(255, 255, 255, 0.12);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.25);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
        }

        .glass-effect-strong {
            background: rgba(255, 255, 255, 0.18);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 12px 40px 0 rgba(31, 38, 135, 0.2);
        }

        .loading-spinner {
            display: inline-block;
            width: 24px;
            height: 24px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .result-card {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .result-card:hover {
            transform: translateY(-4px) scale(1.01);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .btn-primary {
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn-primary:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        input, select {
            transition: all 0.3s ease;
        }

        input:focus, select:focus {
            background: rgba(255, 255, 255, 0.25) !important;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        input[list]::-webkit-calendar-picker-indicator {
            display: none;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.25);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .banner-link {
            transition: all 0.3s ease;
        }

        .banner-link:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }
    </style>
</head>
<body class="bg-gray-50">
    <div class="gradient-bg min-h-screen flex flex-col">
        <!-- Header -->
        <nav class="glass-effect-strong py-5 px-6 sticky top-0 z-50">
            <div class="container mx-auto flex justify-between items-center">
                <h1 class="text-3xl font-bold text-white flex items-center">
                    <div class="bg-white bg-opacity-20 p-2 rounded-xl mr-3">
                        <i class="fas fa-search-dollar text-2xl"></i>
                    </div>
                    <span class="hidden md:inline">Lead Scraper</span>
                    <span class="text-yellow-300 ml-2 text-sm font-normal hidden lg:inline">AI Powered</span>
                </h1>
                <div class="flex items-center space-x-2 md:space-x-4">
                    <a href="/keywords.html" class="glass-effect px-4 py-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <i class="fas fa-lightbulb mr-2"></i>
                        <span class="hidden sm:inline">Keywords</span>
                    </a>
                    <a href="/settings.html" class="glass-effect px-4 py-2 rounded-lg text-white hover:bg-white hover:bg-opacity-20 transition-all duration-300 flex items-center">
                        <i class="fas fa-cog mr-2"></i>
                        <span class="hidden sm:inline">Settings</span>
                    </a>
                </div>
            </div>
        </nav>

        <!-- Top Banner -->
        <div class="bg-gradient-to-r from-purple-700 via-blue-700 to-indigo-800 py-4 px-4 shadow-2xl">
            <div class="container mx-auto flex flex-wrap justify-center items-center gap-3 md:gap-6">
                <a href="https://www.facebook.com/aiunlockedvip" target="_blank" class="banner-link flex items-center bg-blue-600 hover:bg-blue-500 text-white px-5 py-2.5 rounded-full shadow-lg">
                    <i class="fab fa-facebook-f mr-2 text-lg"></i>
                    <span class="text-sm font-medium">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô</span>
                </a>
                <a href="https://selljung.com/" target="_blank" class="banner-link flex items-center bg-green-600 hover:bg-green-500 text-white px-5 py-2.5 rounded-full shadow-lg">
                    <i class="fas fa-graduation-cap mr-2 text-lg"></i>
                    <span class="text-sm font-medium">‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡∏≠‡∏∑‡πà‡∏ô‡πÜ</span>
                </a>
                <a href="https://www.youtube.com/@AIUnlocked168" target="_blank" class="banner-link flex items-center bg-red-600 hover:bg-red-500 text-white px-5 py-2.5 rounded-full shadow-lg">
                    <i class="fab fa-youtube mr-2 text-lg"></i>
                    <span class="text-sm font-medium">‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° Youtube</span>
                </a>
            </div>
        </div>

        <!-- Main Content -->
        <div class="container mx-auto px-4 py-10 flex-grow relative z-10">
            <!-- Hero Section -->
            <div class="text-center mb-8 fade-in">
                <h2 class="text-4xl md:text-5xl font-extrabold text-white mb-3 drop-shadow-lg">
                    ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì
                </h2>
                <p class="text-white text-lg md:text-xl opacity-90 max-w-2xl mx-auto">
                    ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞‡∏î‡πâ‡∏ß‡∏¢ AI
                </p>
            </div>

            <!-- Search Section -->
            <div class="glass-effect-strong rounded-2xl p-6 md:p-10 mb-8 shadow-2xl fade-in">
                <div class="flex items-center justify-center mb-8">
                    <div class="bg-white bg-opacity-20 p-4 rounded-full">
                        <i class="fas fa-search text-white text-3xl"></i>
                    </div>
                </div>

                <form id="searchForm" class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                        <div>
                            <label class="block text-white mb-2 font-semibold text-sm uppercase tracking-wide">
                                <i class="fas fa-search mr-2"></i>‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
                            </label>
                            <input type="text" id="query" class="w-full px-5 py-4 rounded-xl bg-white bg-opacity-20 text-white placeholder-gray-300 border border-white border-opacity-30 focus:outline-none focus:border-white text-base" placeholder="‡πÄ‡∏ä‡πà‡∏ô: ‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ç‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏ô‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û" required>
                        </div>
                        <div>
                            <label class="block text-white mb-2 font-semibold text-sm uppercase tracking-wide">
                                <i class="fas fa-map-marker-alt mr-2"></i>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á
                            </label>
                            <select id="location" class="w-full px-5 py-4 rounded-xl bg-white bg-opacity-20 text-white border border-white border-opacity-30 focus:outline-none focus:border-white text-base cursor-pointer">
                                <option value="ALL_THAILAND" class="bg-purple-800">üáπüá≠ ‡∏ó‡∏±‡πâ‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢ (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)</option>
                                <option value="Bangkok, Thailand" class="bg-purple-800" selected>‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£</option>
                                <option value="Chiang Mai, Thailand" class="bg-purple-800">‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà</option>
                                <option value="Phuket, Thailand" class="bg-purple-800">‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï</option>
                                <option value="Pattaya, Thailand" class="bg-purple-800">‡∏û‡∏±‡∏ó‡∏¢‡∏≤</option>
                                <option value="Nonthaburi, Thailand" class="bg-purple-800">‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ</option>
                                <option value="Pathum Thani, Thailand" class="bg-purple-800">‡∏õ‡∏ó‡∏∏‡∏°‡∏ò‡∏≤‡∏ô‡∏µ</option>
                                <option value="Samut Prakan, Thailand" class="bg-purple-800">‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£</option>
                                <option value="Nakhon Ratchasima, Thailand" class="bg-purple-800">‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤</option>
                                <option value="Khon Kaen, Thailand" class="bg-purple-800">‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô</option>
                                <option value="Hat Yai, Thailand" class="bg-purple-800">‡∏´‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà</option>
                                <option value="Udon Thani, Thailand" class="bg-purple-800">‡∏≠‡∏∏‡∏î‡∏£‡∏ò‡∏≤‡∏ô‡∏µ</option>
                                <option value="Chonburi, Thailand" class="bg-purple-800">‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ</option>
                                <option value="Rayong, Thailand" class="bg-purple-800">‡∏£‡∏∞‡∏¢‡∏≠‡∏á</option>
                                <option value="Surat Thani, Thailand" class="bg-purple-800">‡∏™‡∏∏‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏ò‡∏≤‡∏ô‡∏µ</option>
                                <option value="Nakhon Si Thammarat, Thailand" class="bg-purple-800">‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏ò‡∏£‡∏£‡∏°‡∏£‡∏≤‡∏ä</option>
                                <option value="Ubon Ratchathani, Thailand" class="bg-purple-800">‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ</option>
                                <option value="Chiang Rai, Thailand" class="bg-purple-800">‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏£‡∏≤‡∏¢</option>
                                <option value="Lampang, Thailand" class="bg-purple-800">‡∏•‡∏≥‡∏õ‡∏≤‡∏á</option>
                                <option value="Phitsanulok, Thailand" class="bg-purple-800">‡∏û‡∏¥‡∏©‡∏ì‡∏∏‡πÇ‡∏•‡∏Å</option>
                                <option value="Ayutthaya, Thailand" class="bg-purple-800">‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤</option>
                            </select>
                            <p class="text-white text-xs mt-2 opacity-75">
                                <i class="fas fa-info-circle mr-1"></i>
                                ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "‡∏ó‡∏±‡πâ‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ó‡∏∏‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î
                            </p>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                        <div>
                            <label class="block text-white mb-2 font-semibold text-sm uppercase tracking-wide">
                                <i class="fas fa-server mr-2"></i>‡∏ú‡∏π‡πâ‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£
                            </label>
                            <select id="searchProvider" class="w-full px-5 py-4 rounded-xl bg-white bg-opacity-20 text-white border border-white border-opacity-30 focus:outline-none focus:border-white text-base cursor-pointer">
                                <option value="serpapi" class="bg-purple-800">SerpAPI (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)</option>
                                <option value="google-custom" class="bg-purple-800">Google Custom Search</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-white mb-2 font-semibold text-sm uppercase tracking-wide">
                                <i class="fas fa-globe mr-2"></i>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
                            </label>
                            <select id="engine" class="w-full px-5 py-4 rounded-xl bg-white bg-opacity-20 text-white border border-white border-opacity-30 focus:outline-none focus:border-white text-base cursor-pointer">
                                <option value="all" class="bg-purple-800">üöÄ ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (All Sources) - ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</option>
                                <option value="local" class="bg-purple-800">üè™ Google Local</option>
                                <option value="facebook" class="bg-purple-800">üìò Facebook Pages</option>
                                <option value="maps" class="bg-purple-800">üó∫Ô∏è Google Maps</option>
                                <option value="google" class="bg-purple-800">üîç Google Search</option>
                            </select>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                        <div>
                            <label class="block text-white mb-2 font-semibold text-sm uppercase tracking-wide">
                                <i class="fas fa-list-ol mr-2"></i>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå (‡∏ï‡πà‡∏≠‡πÅ‡∏´‡∏•‡πà‡∏á)
                            </label>
                            <select id="num" class="w-full px-5 py-4 rounded-xl bg-white bg-opacity-20 text-white border border-white border-opacity-30 focus:outline-none focus:border-white text-base cursor-pointer">
                                <option value="10" class="bg-purple-800">10 ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</option>
                                <option value="20" class="bg-purple-800" selected>20 ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)</option>
                                <option value="50" class="bg-purple-800">50 ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</option>
                                <option value="100" class="bg-purple-800">100 ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</option>
                                <option value="200" class="bg-purple-800">200 ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå üî•</option>
                                <option value="500" class="bg-purple-800">500 ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå ‚ö°</option>
                            </select>
                            <p class="text-white text-xs mt-2 opacity-75">
                                <i class="fas fa-info-circle mr-1"></i>
                                ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: Google ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏î‡∏∂‡∏á‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á
                            </p>
                        </div>
                        <div>
                            <label class="block text-white mb-2 font-semibold text-sm uppercase tracking-wide">
                                <i class="fas fa-spider mr-2"></i>‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                            </label>
                            <input type="number" id="scrapeLimit" class="w-full px-5 py-4 rounded-xl bg-white bg-opacity-20 text-white placeholder-gray-300 border border-white border-opacity-30 focus:outline-none focus:border-white text-base" value="10" min="1" max="50" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•">
                        </div>
                    </div>

                    <div class="flex items-center justify-center mt-6 p-4 glass-effect rounded-xl">
                        <label class="flex items-center text-white cursor-pointer group">
                            <input type="checkbox" id="scrapeResults" class="mr-3 w-6 h-6 cursor-pointer">
                            <div>
                                <span class="text-lg font-semibold group-hover:text-yellow-300 transition-colors">
                                    <i class="fas fa-robot mr-2"></i>‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Deep Scrape
                                </span>
                                <p class="text-sm opacity-75 mt-1">‡∏î‡∏∂‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•, ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£, ‡πÅ‡∏•‡∏∞ social media ‡∏à‡∏≤‡∏Å‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå</p>
                            </div>
                        </label>
                    </div>

                    <div class="text-center mt-8">
                        <button type="submit" id="searchBtn" class="btn-primary bg-gradient-to-r from-white to-gray-100 text-purple-700 px-12 py-4 rounded-full font-bold text-lg hover:shadow-2xl transform transition-all duration-300 relative z-10">
                            <i class="fas fa-search mr-3"></i>‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
                        </button>
                        <p class="text-white text-sm mt-4 opacity-75">
                            <i class="fas fa-info-circle mr-1"></i>‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
                        </p>
                    </div>
                </form>
            </div>

            <!-- Results Section -->
            <div id="resultsContainer" class="hidden fade-in">
                <div class="glass-effect-strong rounded-2xl p-6 md:p-8 mb-6 shadow-2xl">
                    <div class="flex flex-col gap-4">
                        <div class="flex flex-col lg:flex-row lg:justify-between lg:items-center gap-4">
                            <div>
                                <h3 class="text-3xl font-bold text-white mb-2">
                                    <i class="fas fa-chart-line mr-3"></i>‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
                                </h3>
                                <div id="summary" class="text-white text-lg opacity-90"></div>
                            </div>
                            <div class="flex flex-wrap gap-3">
                                <button id="filterContactsBtn" class="bg-yellow-600 hover:bg-yellow-500 text-white px-5 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105">
                                    <i class="fas fa-filter mr-2"></i>‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏°‡∏µ‡πÄ‡∏ö‡∏≠‡∏£‡πå/‡∏≠‡∏µ‡πÄ‡∏°‡∏•
                                </button>
                                <button id="exportPhonesBtn" class="bg-blue-600 hover:bg-blue-500 text-white px-5 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105">
                                    <i class="fas fa-phone mr-2"></i>Export ‡πÄ‡∏ö‡∏≠‡∏£‡πå
                                </button>
                                <button id="exportEmailsBtn" class="bg-purple-600 hover:bg-purple-500 text-white px-5 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105">
                                    <i class="fas fa-envelope mr-2"></i>Export ‡∏≠‡∏µ‡πÄ‡∏°‡∏•
                                </button>
                                <button id="exportBtn" class="bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105">
                                    <i class="fas fa-file-excel mr-2"></i>Export Excel
                                </button>
                            </div>
                        </div>
                        <div id="contactStats" class="grid grid-cols-2 md:grid-cols-3 gap-3"></div>
                    </div>
                </div>

                <div id="results" class="space-y-5"></div>
            </div>

            <!-- Loading State -->
            <div id="loading" class="hidden text-center py-16 fade-in">
                <div class="glass-effect-strong inline-block p-8 rounded-2xl">
                    <div class="loading-spinner mx-auto mb-6"></div>
                    <p class="text-white text-2xl font-semibold mb-2">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</p>
                    <p class="text-white text-base opacity-75">‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà ‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•</p>
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <footer class="bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 text-white py-8 mt-auto relative z-10">
            <div class="container mx-auto text-center">
                <div class="mb-4">
                    <i class="fas fa-robot text-4xl text-purple-400 mb-3"></i>
                </div>
                <p class="text-base font-medium mb-2">
                    ¬© 2025 ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡πÄ‡∏≠‡πÑ‡∏≠ ‡∏≠‡∏±‡∏ô‡∏•‡πá‡∏≠‡∏Å ‡∏≠‡∏¥‡∏ô‡πÇ‡∏ô‡πÄ‡∏ß‡∏ä‡∏±‡πà‡∏ô ‡∏à‡∏≥‡∏Å‡∏±‡∏î
                </p>
                <p class="text-sm opacity-75">
                    <i class="fas fa-bolt mr-1 text-yellow-400"></i>
                    Powered by AI Unlocked Technology
                </p>
                <div class="mt-4 flex justify-center space-x-6 text-xl">
                    <a href="https://www.facebook.com/aiunlockedvip" target="_blank" class="text-blue-400 hover:text-blue-300 transition-colors">
                        <i class="fab fa-facebook"></i>
                    </a>
                    <a href="https://www.youtube.com/@AIUnlocked168" target="_blank" class="text-red-400 hover:text-red-300 transition-colors">
                        <i class="fab fa-youtube"></i>
                    </a>
                    <a href="https://selljung.com/" target="_blank" class="text-green-400 hover:text-green-300 transition-colors">
                        <i class="fas fa-globe"></i>
                    </a>
                </div>
            </div>
        </footer>
    </div>

    <script src="app.js"></script>
    <script>
        // Add filter and stats functionality
        let isFiltered = false;
        let filteredResults = [];

        // Override displayResults to add stats
        const originalDisplayResults = window.displayResults;
        window.displayResults = function(data) {
            // Call original display
            const resultsContainer = document.getElementById('resultsContainer');
            const resultsDiv = document.getElementById('results');
            const summaryDiv = document.getElementById('summary');
            const contactStatsDiv = document.getElementById('contactStats');

            resultsContainer.classList.remove('hidden');
            resultsDiv.innerHTML = '';
            isFiltered = false;

            // Calculate contact statistics
            const stats = calculateContactStats(data.leads);

            // Display summary
            const totalFound = data.searchInfo?.totalResults || data.total;
            const formattedTotal = typeof totalFound === 'number' ? totalFound.toLocaleString() : totalFound;

            let summaryHTML = `
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-4">
                    <div class="stat-card p-4 rounded-xl text-center">
                        <p class="text-3xl font-bold text-yellow-300">${formattedTotal}</p>
                        <p class="text-sm opacity-80">‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                    </div>
                    <div class="stat-card p-4 rounded-xl text-center">
                        <p class="text-3xl font-bold text-green-300">${data.total}</p>
                        <p class="text-sm opacity-80">‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß</p>
                    </div>
                    <div class="stat-card p-4 rounded-xl text-center">
                        <p class="text-2xl font-bold text-blue-300">${data.searchInfo?.query || 'N/A'}</p>
                        <p class="text-sm opacity-80">‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</p>
                    </div>
                    <div class="stat-card p-4 rounded-xl text-center">
                        <p class="text-2xl font-bold text-purple-300">${new Date().toLocaleDateString('th-TH')}</p>
                        <p class="text-sm opacity-80">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</p>
                    </div>
                </div>
            `;

            if (data.searchInfo?.sources) {
                summaryHTML += `
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-3 mt-4">
                        <div class="stat-card p-3 rounded-lg text-center">
                            <p class="text-2xl font-bold text-orange-300">üè™ ${data.searchInfo.sources.local}</p>
                            <p class="text-xs opacity-80">Google Local</p>
                        </div>
                        <div class="stat-card p-3 rounded-lg text-center">
                            <p class="text-2xl font-bold text-red-300">üó∫Ô∏è ${data.searchInfo.sources.maps}</p>
                            <p class="text-xs opacity-80">Google Maps</p>
                        </div>
                        <div class="stat-card p-3 rounded-lg text-center">
                            <p class="text-2xl font-bold text-blue-400">üìò ${data.searchInfo.sources.facebook}</p>
                            <p class="text-xs opacity-80">Facebook</p>
                        </div>
                        <div class="stat-card p-3 rounded-lg text-center">
                            <p class="text-2xl font-bold text-green-400">üîç ${data.searchInfo.sources.google}</p>
                            <p class="text-xs opacity-80">Google Search</p>
                        </div>
                    </div>
                `;
            }

            summaryDiv.innerHTML = summaryHTML;

            // Display contact statistics
            contactStatsDiv.innerHTML = `
                <div class="stat-card p-4 rounded-lg text-center">
                    <p class="text-3xl font-bold text-green-400">üìû ${stats.totalPhones.toLocaleString()}</p>
                    <p class="text-xs opacity-80">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏ó‡∏µ‡πà‡∏û‡∏ö</p>
                </div>
                <div class="stat-card p-4 rounded-lg text-center">
                    <p class="text-3xl font-bold text-blue-400">üìß ${stats.totalEmails.toLocaleString()}</p>
                    <p class="text-xs opacity-80">‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ó‡∏µ‡πà‡∏û‡∏ö</p>
                </div>
                <div class="stat-card p-4 rounded-lg text-center">
                    <p class="text-3xl font-bold text-purple-400">‚úÖ ${stats.leadsWithContacts.toLocaleString()}</p>
                    <p class="text-xs opacity-80">‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ (${Math.round(stats.leadsWithContacts/data.leads.length*100)}%)</p>
                </div>
            `;

            // Display results
            const tableHTML = createSimpleResultsTable(data.leads);
            resultsDiv.innerHTML = tableHTML;
        };

        function calculateContactStats(leads) {
            const phoneSet = new Set();
            const emailSet = new Set();
            let leadsWithContacts = 0;

            leads.forEach(lead => {
                let hasContact = false;

                if (lead.phone) {
                    const formatted = formatPhoneNumber(lead.phone);
                    if (formatted) {
                        phoneSet.add(formatted);
                        hasContact = true;
                    }
                }
                if (lead.contacts?.phones) {
                    lead.contacts.phones.forEach(phone => {
                        const formatted = formatPhoneNumber(phone);
                        if (formatted) phoneSet.add(formatted);
                    });
                    if (lead.contacts.phones.length > 0) hasContact = true;
                }

                if (lead.contacts?.emails) {
                    lead.contacts.emails.forEach(email => {
                        if (email) emailSet.add(email.toLowerCase());
                    });
                    if (lead.contacts.emails.length > 0) hasContact = true;
                }

                if (hasContact) leadsWithContacts++;
            });

            return {
                totalPhones: phoneSet.size,
                totalEmails: emailSet.size,
                leadsWithContacts: leadsWithContacts
            };
        }

        // Filter button handler
        document.getElementById('filterContactsBtn').addEventListener('click', () => {
            if (!isFiltered) {
                filteredResults = currentResults.filter(lead => {
                    const hasPhone = lead.phone || (lead.contacts?.phones && lead.contacts.phones.length > 0);
                    const hasEmail = lead.contacts?.emails && lead.contacts.emails.length > 0;
                    return hasPhone || hasEmail;
                });

                const resultsDiv = document.getElementById('results');
                const tableHTML = createSimpleResultsTable(filteredResults);
                resultsDiv.innerHTML = tableHTML;

                document.getElementById('filterContactsBtn').innerHTML = '<i class="fas fa-times mr-2"></i>‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î';
                document.getElementById('filterContactsBtn').classList.remove('bg-yellow-600', 'hover:bg-yellow-500');
                document.getElementById('filterContactsBtn').classList.add('bg-red-600', 'hover:bg-red-500');
                isFiltered = true;

                const stats = calculateContactStats(filteredResults);
                document.getElementById('contactStats').innerHTML = `
                    <div class="stat-card p-4 rounded-lg text-center">
                        <p class="text-3xl font-bold text-green-400">üìû ${stats.totalPhones.toLocaleString()}</p>
                        <p class="text-xs opacity-80">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏ó‡∏µ‡πà‡∏û‡∏ö</p>
                    </div>
                    <div class="stat-card p-4 rounded-lg text-center">
                        <p class="text-3xl font-bold text-blue-400">üìß ${stats.totalEmails.toLocaleString()}</p>
                        <p class="text-xs opacity-80">‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ó‡∏µ‡πà‡∏û‡∏ö</p>
                    </div>
                    <div class="stat-card p-4 rounded-lg text-center">
                        <p class="text-3xl font-bold text-purple-400">‚úÖ ${stats.leadsWithContacts.toLocaleString()}</p>
                        <p class="text-xs opacity-80">‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ (${Math.round(stats.leadsWithContacts/filteredResults.length*100)}%)</p>
                    </div>
                `;
            } else {
                const resultsDiv = document.getElementById('results');
                const tableHTML = createSimpleResultsTable(currentResults);
                resultsDiv.innerHTML = tableHTML;

                document.getElementById('filterContactsBtn').innerHTML = '<i class="fas fa-filter mr-2"></i>‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏°‡∏µ‡πÄ‡∏ö‡∏≠‡∏£‡πå/‡∏≠‡∏µ‡πÄ‡∏°‡∏•';
                document.getElementById('filterContactsBtn').classList.remove('bg-red-600', 'hover:bg-red-500');
                document.getElementById('filterContactsBtn').classList.add('bg-yellow-600', 'hover:bg-yellow-500');
                isFiltered = false;

                const stats = calculateContactStats(currentResults);
                document.getElementById('contactStats').innerHTML = `
                    <div class="stat-card p-4 rounded-lg text-center">
                        <p class="text-3xl font-bold text-green-400">üìû ${stats.totalPhones.toLocaleString()}</p>
                        <p class="text-xs opacity-80">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏ó‡∏µ‡πà‡∏û‡∏ö</p>
                    </div>
                    <div class="stat-card p-4 rounded-lg text-center">
                        <p class="text-3xl font-bold text-blue-400">üìß ${stats.totalEmails.toLocaleString()}</p>
                        <p class="text-xs opacity-80">‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ó‡∏µ‡πà‡∏û‡∏ö</p>
                    </div>
                    <div class="stat-card p-4 rounded-lg text-center">
                        <p class="text-3xl font-bold text-purple-400">‚úÖ ${stats.leadsWithContacts.toLocaleString()}</p>
                        <p class="text-xs opacity-80">‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ (${Math.round(stats.leadsWithContacts/currentResults.length*100)}%)</p>
                    </div>
                `;
            }
        });
    </script>
</body>
</html>